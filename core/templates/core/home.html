  {% extends 'base.html' %}
  {% load markdown_extras %}
  {% load static %}
  {% block content %}
      <!-- 메인 배너 섹션 -->
      {% if main_content %}
      <div class="main-section">
          <div class="main-content">
              <h1>{{ main_content.title }}</h1>
              <p class="main-subtitle">{{ main_content.subtitle }}</p>
          </div>
      </div>
      {% endif %}

      <!-- 자기소개 섹션 -->
  <section id="about" class="content-section">
      {% if profile %}
      <h2 class="section-title">자기소개</h2>
      <div class="about-content">
          <div class="about-text">
              <div>{{ profile.introduce|convert_markdown }}</div>
          </div>
          <div class="info-boxes">
                                <div class="profile-box">
                                    <h4 class="font-bold text-lg">프로필 정보</h4>
                                    <p><strong class="font-bold">이름:</strong> {{ profile.name }}</p>
                                    <p><strong class="font-bold">영문명:</strong> {{ profile.english_name }}</p>
                                    <p><strong class="font-bold">생년월일:</strong> {{ profile.birth_date }}</p>
                                    <p><strong class="font-bold">이메일:</strong> {{ profile.email }}</p>
                                    <p><strong class="font-bold">연락처:</strong> {{ profile.phone }}</p>
                                </div>              <div class="edu-box">
                  <h4 class="font-bold text-lg">학력</h4>
                  {% for education in educations %}
                      <p><strong class="font-bold">학교:</strong> {{ education.school }}</p>
                      <p><strong class="font-bold">전공:</strong> {{ education.major }}</p>
                      <p><strong class="font-bold">부전공:</strong> {{ education.minor }}</p>
                      <p>{{ education.start_date|date:"Y.m" }} ~ {{education.end_date|date:"Y.m"|default:"현재" }}</p>
                  {% endfor %}
              </div>
          </div>
          {% if profile.photo %}
          <div class="photo-wrapper">
              <img src="{{ profile.photo.url }}" alt="프로필 사진" class="profile-photo">
          </div>
          {% endif %}
      </div>
    {% endif %}
</section>

<!-- 기술 섹션 -->
<section id="skills" class="content-section">
    <h2 class="section-title">기술 스택</h2>
    <div class="skills-content">
        {% regroup skills by category as skills_by_category %}
        {% for category in skills_by_category %}
            <div class="category-group">
                <h3 class="category-title">{{category.grouper }}</h3>
                <div class="skills-list">
                    {% for skill in category.list %}        
                    <div class="skill-item">
                        <span class="skill-name">{{ skill.name }}</span>
                        <div class="stars" style="--rating: {{ skill.level }};" aria-label="rating: {{ skill.level }} out of 5 stars">
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
    </div>
</section>

<!-- 경력 섹션 -->
<section id="experience" class="content-section">
    <h2 class="section-title">
        경력 
        {% if total_experience_duration %}
        <span class="text-lg font-normal text-gray-500">({{ total_experience_duration }})</span>
        {% endif %}
    </h2>
    <div class="experience-card">
        {% for exp in experiences %}
        <div class="experience-item">
            <div class="experience-meta">
                <h4 class="company-name">{{ exp.company }}</h4>
                <span class="position-tag">{{ exp.position }}</span>
                <p class="period">{{ exp.get_period_display }} ({{ exp.get_duration }})</p>
            </div>
            <div class="experience-main">
                <div class="item-details">
                    <h5>회사 소개</h5>
                    <p>{{ exp.company_intro|linebreaksbr }}</p>
                    <h5 class="mt-4">주요 업무</h5>
                    <p>{{ exp.description|linebreaksbr }}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- 프로젝트 섹션 -->
 {% include 'projects/project_list.html' %}

<script src="{% static 'core/js/main.js' %}"></script>
  {% endblock %}